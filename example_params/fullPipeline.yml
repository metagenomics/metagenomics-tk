tempdir: "tmp"
summary: false
input:
  paired:
    path: "test_data/fullPipeline/reads_split.tsv"
    watch: false
output: "output"
logDir: log
runid: 1
databases: "/mnt/databases/"
steps:
  qc:
    fastp:
       # Example params: " --cut_front --cut_tail --detect_adapter_for_pe  "
       additionalParams: "  "
  assembly:
    megahit:
      additionalParams: " --min-contig-len 200 "
  binning:
    bowtie:
      additionalParams: 
        bowtie: " --quiet --very-sensitive "
        # samtools flags are used to filter resulting bam file
        samtoolsView: " -F 3584 " 
    metabat:
      additionalParams: "   "
  magAttributes:
    gtdb:
      buffer: 1000
      database: "/vol/spool/gtdb/release202"
      additionalParams: " --min_af 0.65 "
    checkm:
      database: "/vol/spool/checkm"
      buffer: 200
      additionalParams:
        tree: " --reduced_tree "
        lineage_set: " " 
        qa: "  "
    prokka:
      defaultKingdom: 'Bacteria'
      additionalParams: " --mincontiglen 200 "
  fragmentRecruitment:
    frhit:
      genomes: "/vol/spool/meta/test/data/bin.*.fa"
      sort: true
      additionalParams: 
        frhit: " -c 95 "
        coverm: " --min-covered-fraction 0 "
  dereplication:
    pasolli:
      minimumCompleteness: 0
      maximumContamination: 5000
      ANIBuffer: 20
      mashBuffer: 2000
      method: 'ANI'
      additionalParams:
        mash_sketch: ""
        mash_dist: ""
        # cluster cutoff
        cluster: " -c 0.05 "
        pyani: " -m ANIb "
        representativeAniCutoff: 0.95
  readMapping:
    bwa:
      additionalParams:
        bwa_index: ""
        bwa_mem: ""
        coverm: " --min-covered-fraction 0 "
  cooccurrence:
    additionalParams: " -t 0.1 -z 80 -o 'correlation' "
  annotation:
     s5cmd:
        params: '--retry-count 30 --no-verify-ssl --endpoint-url https://openstack.cebitec.uni-bielefeld.de:8080'
        keyfile: 'xxx'
     diamond:
        database: '/mnt/databases/kegg-2021-01.dmnd'
        params: 'blastp --fast --outfmt 6 --max-target-seqs 100 --evalue 0.1'
     kegg:
        database: '/mnt/databases/kegg_2021-01/'
     prodigal:
         mode: 'meta'
     keggFromDiamond:
resources:
  large:
    cpus: 28
    memory: 256
  medium:
    cpus: 14
    memory: 128
  small:
    cpus: 7
    memory: 16
  tiny:
    cpus: 1
    memory: 2
