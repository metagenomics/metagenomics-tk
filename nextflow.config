profiles {
    slurm {  
        executor {
          queueSize = 600
          pollInterval = '5 sec'
          queueStatInterval = '5 sec'
        }
        process {
           executor = 'slurm'
           containerOptions = ' --user 1000:1000 '
           scratch = "/vol/scratch/"

           withLabel: large {
              cpus = 28 
              memory = 250.GB
           }
           withLabel: medium {
              cpus = 14
              memory = 125.GB
           }
           withLabel: small {
              cpus = 7
              memory = 60.GB
           }
           withLabel: tiny {
              cpus = 1
          }
	}

    }
    local { 
         docker {
           fixOwnership = true
           enabled = true
         }
         process {
           executor = 'slurm'
           containerOptions = ' --user 1000:1000 '
           scratch = false

           withLabel: large {
              cpus = 28 
              memory = 250.GB
           }
           withLabel: medium {
              cpus = 14
              memory = 125.GB
           }
           withLabel: small {
              cpus = 7
              memory = 60.GB
          }
    }
    conda {
         conda.createTimeout = '1 h'
         process.conda = { params.environment ? params.environment : "$projectDir/conda/environment.yml" }
    }
}


